(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{Dr2h:function(t,e,n){"use strict";n.d(e,"a",(function(){return b}));var o=n("2Vo4"),i=n("HDdC"),s=n("DH7j"),r=n("n6bG"),a=n("lJxs"),c=n("vkgz"),p=n("Eixg"),l=n("fXoL"),d=n("KP+k");const u="hinatastepsform";let b=(()=>{class t{constructor(t){this.snackbarService=t,this.appointment={},this.stepIndexSubject=new o.a(1),this.activeStepIndex$=this.stepIndexSubject.asObservable(),function t(e,n,o,c){return Object(r.a)(o)&&(c=o,o=void 0),c?t(e,n,o).pipe(Object(a.a)(t=>Object(s.a)(t)?c(...t):c(t))):new i.a(t=>{!function t(e,n,o,i,s){let r;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(e)){const t=e;e.addEventListener(n,o,s),r=()=>t.removeEventListener(n,o,s)}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(e)){const t=e;e.on(n,o),r=()=>t.off(n,o)}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(e)){const t=e;e.addListener(n,o),r=()=>t.removeListener(n,o)}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(let r=0,a=e.length;r<a;r++)t(e[r],n,o,i,s)}i.add(r)}(e,n,(function(e){t.next(arguments.length>1?Array.prototype.slice.call(arguments):e)}),t,o)})}(window,"beforeunload").pipe(Object(c.a)(()=>this.saveAppointmentState())).subscribe(),this.getState(),this.forwardSteps()}get appointmentSteps(){return[{title:"Where",route:p.a[p.a.WHERE].toLowerCase()},{title:"When",route:p.a[p.a.WHEN].toLowerCase()},{title:"Details",route:p.a[p.a.DETAILS].toLowerCase()},{title:"Done",route:p.a[p.a.DONE].toLowerCase()}]}saveStepStore(t){console.log("save step "+p.a[p.a.WHERE]),this.appointment.where=t,this.stepIndexSubject.next(2)}get canShowStepWhen(){return!!this.appointment.where}saveStepSchedule(t){console.log("save step "+p.a[p.a.WHEN]),this.appointment.when=t,this.stepIndexSubject.next(3)}get canShowStepDetails(){return!!this.appointment.when}saveStepCustomer(t){console.log("save step "+p.a[p.a.DETAILS]),this.appointment.details=t,this.stepIndexSubject.next(4)}get canShowStepDone(){return!!this.appointment.where&&!!this.appointment.when&&!!this.appointment.details}saveAppointmentState(){console.log("save state"),window.sessionStorage.setItem(u,JSON.stringify(this.appointment))}getState(){const t=window.sessionStorage.getItem(u);t&&(console.log("get current state"),this.appointment=JSON.parse(t))}forwardSteps(){let t=!1;this.canShowStepWhen&&(this.stepIndexSubject.next(2),t=!0),this.canShowStepDetails&&(this.stepIndexSubject.next(3),t=!0),this.canShowStepDone&&(this.stepIndexSubject.next(4),t=!0),t&&this.snackbarService.showSnackbar("Continuing appointment ...")}}return t.\u0275fac=function(e){return new(e||t)(l.Rb(d.a))},t.\u0275prov=l.Eb({token:t,factory:t.\u0275fac}),t})()},Eixg:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var o=function(t){return t[t.WHERE=0]="WHERE",t[t.WHEN=1]="WHEN",t[t.DETAILS=2]="DETAILS",t[t.DONE=3]="DONE",t}({})},P7zA:function(t,e,n){"use strict";n.r(e),n.d(e,"StepsModule",(function(){return v}));var o=n("ofXK"),i=n("tyNb"),s=n("Eixg"),r=n("fXoL"),a=n("Dr2h");let c=(()=>{class t{constructor(t,e){this.router=t,this.service=e}canLoad(t,e){const n=t.path.toUpperCase();let o=!0;return console.log(`CAN LOAD STEP '${n}'?`),n===s.a[s.a.WHEN].toString()&&(o=this.service.canShowStepWhen),n===s.a[s.a.DETAILS].toString()&&(o=this.service.canShowStepDetails),n===s.a[s.a.DONE].toString()&&(o=this.service.canShowStepDone),o||this.router.navigate([""]),o}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(i.b),r.Rb(a.a))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();var p=n("vkgz");const l=function(t,e){return{"bg-indigo-600 text-white":t,"text-indigo-600":e}},d=function(t){return{"font-semibold":t}};let u=(()=>{class t{constructor(){this.isDisabled=!0}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Cb({type:t,selectors:[["app-step-button"]],inputs:{isActive:"isActive",isDisabled:"isDisabled",indicator:"indicator",title:"title"},decls:5,vars:10,consts:[[1,"flex","flex-col","items-center","justify-center"],[1,"hover:shadow-lg","cursor-pointer","w-16","h-16","mx-auto","mb-1","rounded-full","shadow-md","border-2","border-indigo-600","flex","items-center","justify-center","text-3xl",3,"disabled","ngClass"],[1,"text-sm","text-indigo-600",3,"ngClass"]],template:function(t,e){1&t&&(r.Nb(0,"div",0),r.Nb(1,"button",1),r.pc(2),r.Mb(),r.Nb(3,"span",2),r.pc(4),r.Mb(),r.Mb()),2&t&&(r.yb(1),r.cc("disabled",e.isDisabled)("ngClass",r.fc(5,l,e.isActive,!e.isActive)),r.yb(1),r.rc(" ",e.indicator," "),r.yb(1),r.cc("ngClass",r.ec(8,d,e.isActive)),r.yb(1),r.qc(e.title))},directives:[o.j],styles:[""]}),t})();function b(t,e){if(1&t){const t=r.Ob();r.Lb(0),r.Nb(1,"app-step-button",8),r.Ub("click",(function(){r.kc(t);const n=e.index;return r.Wb(2).onStepButtonClick(n)})),r.Mb(),r.Kb()}if(2&t){const t=e.$implicit,n=e.index,o=r.Wb().ngIf;r.yb(1),r.cc("isDisabled",o<n+1)("isActive",o>n)("indicator",n+1)("title",t.title)}}function h(t,e){if(1&t&&(r.Lb(0),r.nc(1,b,2,4,"ng-container",7),r.Kb()),2&t){const t=r.Wb();r.yb(1),r.cc("ngForOf",t.steps)}}const f=[{path:"",component:(()=>{class t{constructor(t,e,n){this.router=t,this.route=e,this.service=n}ngOnInit(){this.steps=this.service.appointmentSteps,this.activeStepIndex$=this.service.activeStepIndex$.pipe(Object(p.a)(t=>this.onStepButtonClick(t-1)))}onStepButtonClick(t){this.router.navigate([this.steps[t].route],{relativeTo:this.route})}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(i.b),r.Ib(i.a),r.Ib(a.a))},t.\u0275cmp=r.Cb({type:t,selectors:[["app-steps"]],decls:12,vars:3,consts:[[1,"md:container","mx-auto","p-4","min-h-full","flex","flex-col"],[1,"z-10","px-8","pt-4","-mx-4","-mt-4","h-32","bg-indigo-600","border-b","border-indigo-600","mb-4"],[1,"text-gray-100","font-light","text-3xl"],[1,"font-semibold","text-6xl"],[1,"h-24","mb-4","grid","grid-cols-4","gap-4"],[4,"ngIf"],[1,"flex","flex-col","border","border-gray-100","shadow-lg","rounded-md","w-full","flex-1","bg-gray-100","p-4"],[4,"ngFor","ngForOf"],[3,"isDisabled","isActive","indicator","title","click"]],template:function(t,e){1&t&&(r.Nb(0,"div",0),r.Nb(1,"header",1),r.Nb(2,"h1",2),r.pc(3," Welcome to "),r.Jb(4,"br"),r.Nb(5,"strong",3),r.pc(6,"Hinata"),r.Mb(),r.Mb(),r.Mb(),r.Nb(7,"div",4),r.nc(8,h,2,1,"ng-container",5),r.Xb(9,"async"),r.Mb(),r.Nb(10,"section",6),r.Jb(11,"router-outlet"),r.Mb(),r.Mb()),2&t&&(r.yb(8),r.cc("ngIf",r.Yb(9,1,e.activeStepIndex$)))},directives:[o.l,i.d,o.k,u],pipes:[o.b],styles:[""]}),t})(),children:[{path:s.a[s.a.WHERE].toLowerCase(),loadChildren:()=>Promise.all([n.e(1),n.e(9)]).then(n.bind(null,"K3ww")).then(t=>t.MapsModule)},{path:s.a[s.a.WHEN].toLowerCase(),loadChildren:()=>Promise.all([n.e(1),n.e(5)]).then(n.bind(null,"sPdk")).then(t=>t.DatesModule),data:{expected:"schedule"},canLoad:[c]},{path:s.a[s.a.DETAILS].toLowerCase(),loadChildren:()=>n.e(8).then(n.bind(null,"ED1Q")).then(t=>t.CustomerModule),data:{expected:"customer"},canLoad:[c]},{path:s.a[s.a.DONE].toLowerCase(),loadChildren:()=>n.e(7).then(n.bind(null,"/FU0")).then(t=>t.CompleteModule),data:{expected:["store","schedule","customer"]},canLoad:[c]},{path:"",redirectTo:s.a[s.a.WHERE].toLowerCase()},{path:"**",redirectTo:s.a[s.a.WHERE].toLowerCase()}]},{path:"**",redirectTo:""}];let g=(()=>{class t{}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},imports:[[i.c.forChild(f)],i.c]}),t})();const S=[c];let v=(()=>{class t{}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},providers:[a.a,...S],imports:[[o.c,g]]}),t})()}}]);