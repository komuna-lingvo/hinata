(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{Dr2h:function(t,e,n){"use strict";n.d(e,"a",(function(){return b}));var s=n("2Vo4"),i=n("HDdC"),o=n("DH7j"),r=n("n6bG"),a=n("lJxs"),c=n("vkgz"),l=n("Eixg"),p=n("fXoL"),u=n("KP+k");const h="hinatastepsform";let b=(()=>{class t{constructor(t){this.snackbarService=t,this.steps={},this.stepIndexSubject=new s.a(1),this.activeStepIndex$=this.stepIndexSubject.asObservable(),function t(e,n,s,c){return Object(r.a)(s)&&(c=s,s=void 0),c?t(e,n,s).pipe(Object(a.a)(t=>Object(o.a)(t)?c(...t):c(t))):new i.a(t=>{!function t(e,n,s,i,o){let r;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(e)){const t=e;e.addEventListener(n,s,o),r=()=>t.removeEventListener(n,s,o)}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(e)){const t=e;e.on(n,s),r=()=>t.off(n,s)}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(e)){const t=e;e.addListener(n,s),r=()=>t.removeListener(n,s)}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(let r=0,a=e.length;r<a;r++)t(e[r],n,s,i,o)}i.add(r)}(e,n,(function(e){t.next(arguments.length>1?Array.prototype.slice.call(arguments):e)}),t,s)})}(window,"beforeunload").pipe(Object(c.a)(()=>this.saveAppointmentState())).subscribe(),this.getState(),this.forwardSteps()}get appointmentSteps(){return[{title:"Where",route:l.b[l.b.WHERE].toLowerCase()},{title:"When",route:l.b[l.b.WHEN].toLowerCase()},{title:"Details",route:l.b[l.b.DETAILS].toLowerCase()},{title:"Done",route:l.b[l.b.DONE].toLowerCase()}]}saveStepStore(t){this.steps.where=t,this.stepIndexSubject.next(2)}get canShowStepWhen(){return!!this.steps.where}saveStepSchedule(t){this.steps.when=t,this.stepIndexSubject.next(3)}get canShowStepDetails(){return!!this.steps.when}saveStepCustomer(t){this.steps.details=t,this.stepIndexSubject.next(4)}get canShowStepDone(){return!!this.steps.where&&!!this.steps.when&&!!this.steps.details}deleteAppointmentState(){this.steps=null,window.sessionStorage.removeItem(h)}saveAppointmentState(){this.steps&&window.sessionStorage.setItem(h,JSON.stringify(this.steps))}getState(){const t=window.sessionStorage.getItem(h);if(t){if(this.steps=JSON.parse(t),!this.steps.when)return;this.steps.when.date=new Date(this.steps.when.date),this.steps.when.range.from=new Date(this.steps.when.range.from),this.steps.when.range.to=new Date(this.steps.when.range.to)}}forwardSteps(){let t=!1;this.canShowStepWhen&&(this.stepIndexSubject.next(2),t=!0),this.canShowStepDetails&&(this.stepIndexSubject.next(3),t=!0),this.canShowStepDone&&(this.stepIndexSubject.next(4),t=!0),t&&this.snackbarService.showSnackbar("Continuing appointment ...")}}return t.\u0275fac=function(e){return new(e||t)(p.Rb(u.a))},t.\u0275prov=p.Eb({token:t,factory:t.\u0275fac}),t})()},Eixg:function(t,e,n){"use strict";n.d(e,"b",(function(){return s})),n.d(e,"a",(function(){return i}));var s=function(t){return t[t.WHERE=0]="WHERE",t[t.WHEN=1]="WHEN",t[t.DETAILS=2]="DETAILS",t[t.DONE=3]="DONE",t}({});class i{constructor(t){this.storeName=t.where.name,this.appointmentDate=t.when.date.toLocaleDateString(),this.appointmentHour=t.when.range.from.toLocaleTimeString()+" - "+t.when.range.to.toLocaleTimeString(),this.customerName=t.details.name+" "+t.details.lastName,this.customerEmail=t.details.email,this.customerPhoneNumber=t.details.phoneNumber}}},P7zA:function(t,e,n){"use strict";n.r(e),n.d(e,"StepsModule",(function(){return E}));var s=n("ofXK"),i=n("tyNb"),o=n("Eixg"),r=n("fXoL"),a=n("Dr2h");let c=(()=>{class t{constructor(t,e){this.router=t,this.service=e}canLoad(t,e){const n=t.path.toUpperCase();let s=!0;return n===o.b[o.b.WHEN].toString()&&(s=this.service.canShowStepWhen),n===o.b[o.b.DETAILS].toString()&&(s=this.service.canShowStepDetails),n===o.b[o.b.DONE].toString()&&(s=this.service.canShowStepDone),s||this.router.navigate([""]),s}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(i.b),r.Rb(a.a))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();var l=n("vkgz");function p(t,e=null){return{type:4,styles:e,timings:t}}function u(t){return{type:6,styles:t,offset:null}}function h(t=null){return{type:9,options:t}}function b(t,e,n=null){return{type:11,selector:t,animation:e,options:n}}const d={type:7,name:"stepsRouteChildAnimation",definitions:[function(t,e,n=null){return{type:1,expr:t,animation:e,options:n}}("* <=> *",[u({position:"relative"}),b(":enter, :leave",[u({position:"absolute",bottom:0,right:0})]),b(":enter",[u({bottom:"-100%"})]),b(":leave",h()),function(t,e=null){return{type:3,steps:t,options:e}}([b(":leave",[p("300ms ease-in-out",u({bottom:"-100%"}))]),b(":enter",[p("300ms ease-in-out",u({bottom:"0%"}))])]),b(":enter",h())])],options:{}},f=function(t,e){return{"bg-indigo-600 text-white":t,"text-indigo-600":e}},m=function(t){return{"font-semibold":t}};let w=(()=>{class t{constructor(){this.isDisabled=!0}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Cb({type:t,selectors:[["app-step-button"]],inputs:{isActive:"isActive",isDisabled:"isDisabled",indicator:"indicator",title:"title"},decls:5,vars:10,consts:[[1,"flex","flex-col","items-center","justify-center"],[1,"hover:shadow-lg","cursor-pointer","w-16","h-16","mx-auto","mb-1","rounded-full","shadow-md","border-2","border-indigo-600","flex","items-center","justify-center","text-3xl",3,"disabled","ngClass"],[1,"text-sm","text-indigo-600",3,"ngClass"]],template:function(t,e){1&t&&(r.Nb(0,"div",0),r.Nb(1,"button",1),r.rc(2),r.Mb(),r.Nb(3,"span",2),r.rc(4),r.Mb(),r.Mb()),2&t&&(r.yb(1),r.ec("disabled",e.isDisabled)("ngClass",r.hc(5,f,e.isActive,!e.isActive)),r.yb(1),r.tc(" ",e.indicator," "),r.yb(1),r.ec("ngClass",r.gc(8,m,e.isActive)),r.yb(1),r.sc(e.title))},directives:[s.j],styles:[""]}),t})();function g(t,e){if(1&t){const t=r.Ob();r.Lb(0),r.Nb(1,"app-step-button",9),r.Ub("click",(function(){r.mc(t);const n=e.index;return r.Yb(2).onStepButtonClick(n)})),r.Mb(),r.Kb()}if(2&t){const t=e.$implicit,n=e.index,s=r.Yb().ngIf;r.yb(1),r.ec("isDisabled",s<n+1)("isActive",s>n)("indicator",n+1)("title",t.title)}}function S(t,e){if(1&t&&(r.Lb(0),r.pc(1,g,2,4,"ng-container",8),r.Kb()),2&t){const t=r.Yb();r.yb(1),r.ec("ngForOf",t.steps)}}const v=[{path:"",component:(()=>{class t{constructor(t,e,n){this.router=t,this.route=e,this.service=n}ngOnInit(){this.steps=this.service.appointmentSteps,this.activeStepIndex$=this.service.activeStepIndex$.pipe(Object(l.a)(t=>this.onStepButtonClick(t-1)))}animateChildRoutes(t){return t.isActivated}onStepButtonClick(t){this.service.steps&&this.router.navigate([this.steps[t].route],{relativeTo:this.route})}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(i.b),r.Ib(i.a),r.Ib(a.a))},t.\u0275cmp=r.Cb({type:t,selectors:[["app-steps"]],decls:13,vars:3,consts:[[1,"container","mx-auto","p-4","min-h-full","flex","flex-col"],[1,"z-10","px-8","pt-4","-mx-4","-mt-4","h-32","bg-indigo-600","border-b","border-indigo-600","mb-4"],[1,"text-gray-100","font-light","text-3xl"],[1,"font-semibold","text-6xl"],[1,"h-24","mb-4","grid","grid-cols-4","gap-4"],[4,"ngIf"],[1,"md:p-6","flex","flex-col","border","border-gray-100","shadow-lg","rounded-md","w-full","flex-1","bg-gray-100","p-4"],["outlet","outlet"],[4,"ngFor","ngForOf"],[3,"isDisabled","isActive","indicator","title","click"]],template:function(t,e){1&t&&(r.Nb(0,"div",0),r.Nb(1,"header",1),r.Nb(2,"h1",2),r.rc(3," Welcome to "),r.Jb(4,"br"),r.Nb(5,"strong",3),r.rc(6,"Hinata"),r.Mb(),r.Mb(),r.Mb(),r.Nb(7,"div",4),r.pc(8,S,2,1,"ng-container",5),r.Zb(9,"async"),r.Mb(),r.Nb(10,"section",6),r.Jb(11,"router-outlet",null,7),r.Mb(),r.Mb()),2&t&&(r.yb(8),r.ec("ngIf",r.ac(9,1,e.activeStepIndex$)))},directives:[s.l,i.e,s.k,w],pipes:[s.b],styles:[""],data:{animation:[d]}}),t})(),children:[{path:o.b[o.b.WHERE].toLowerCase(),loadChildren:()=>n.e(6).then(n.bind(null,"K3ww")).then(t=>t.MapsModule)},{path:o.b[o.b.WHEN].toLowerCase(),loadChildren:()=>Promise.all([n.e(1),n.e(8)]).then(n.bind(null,"sPdk")).then(t=>t.DatesModule),data:{expected:"schedule"},canLoad:[c]},{path:o.b[o.b.DETAILS].toLowerCase(),loadChildren:()=>Promise.all([n.e(1),n.e(9)]).then(n.bind(null,"ED1Q")).then(t=>t.CustomerModule),data:{expected:"customer"},canLoad:[c]},{path:o.b[o.b.DONE].toLowerCase(),loadChildren:()=>n.e(5).then(n.bind(null,"/FU0")).then(t=>t.CompleteModule),data:{expected:["store","schedule","customer"]},canLoad:[c]},{path:"",redirectTo:o.b[o.b.WHERE].toLowerCase(),pathMatch:"full"},{path:"**",redirectTo:o.b[o.b.WHERE].toLowerCase(),pathMatch:"full"}]},{path:"**",redirectTo:"",pathMatch:"full"}];let x=(()=>{class t{}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},imports:[[i.d.forChild(v)],i.d]}),t})();const y=[c];let E=(()=>{class t{}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},providers:[a.a,...y],imports:[[s.c,x]]}),t})()}}]);