(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{Dr2h:function(t,e,n){"use strict";n.d(e,"a",(function(){return h}));var o=n("2Vo4"),i=n("HDdC"),s=n("DH7j"),a=n("n6bG"),r=n("lJxs"),c=n("vkgz"),l=n("Eixg"),p=n("fXoL"),d=n("KP+k");const u="hinatastepsform";let h=(()=>{class t{constructor(t){this.snackbarService=t,this.appointment={},this.stepIndexSubject=new o.a(1),this.activeStepIndex$=this.stepIndexSubject.asObservable(),function t(e,n,o,c){return Object(a.a)(o)&&(c=o,o=void 0),c?t(e,n,o).pipe(Object(r.a)(t=>Object(s.a)(t)?c(...t):c(t))):new i.a(t=>{!function t(e,n,o,i,s){let a;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(e)){const t=e;e.addEventListener(n,o,s),a=()=>t.removeEventListener(n,o,s)}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(e)){const t=e;e.on(n,o),a=()=>t.off(n,o)}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(e)){const t=e;e.addListener(n,o),a=()=>t.removeListener(n,o)}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(let a=0,r=e.length;a<r;a++)t(e[a],n,o,i,s)}i.add(a)}(e,n,(function(e){t.next(arguments.length>1?Array.prototype.slice.call(arguments):e)}),t,o)})}(window,"beforeunload").pipe(Object(c.a)(()=>this.saveAppointmentState())).subscribe(),this.getState(),this.forwardSteps()}get appointmentSteps(){return[{title:"Where",route:l.a[l.a.WHERE].toLowerCase()},{title:"When",route:l.a[l.a.WHEN].toLowerCase()},{title:"Details",route:l.a[l.a.DETAILS].toLowerCase()},{title:"Done",route:l.a[l.a.DONE].toLowerCase()}]}saveStepStore(t){console.log("save step "+l.a[l.a.WHERE]),this.appointment.where=t,this.stepIndexSubject.next(2)}get canShowStepWhen(){return!!this.appointment.where}saveStepSchedule(t){console.log("save step "+l.a[l.a.WHEN]),this.appointment.when=t,this.stepIndexSubject.next(3)}get canShowStepDetails(){return!!this.appointment.when}saveStepCustomer(t){console.log("save step "+l.a[l.a.DETAILS]),this.appointment.details=t,this.stepIndexSubject.next(4)}get canShowStepDone(){return!!this.appointment.where&&!!this.appointment.when&&!!this.appointment.details}saveAppointmentState(){console.log("save state"),window.sessionStorage.setItem(u,JSON.stringify(this.appointment))}getState(){const t=window.sessionStorage.getItem(u);t&&(console.log("get current state"),this.appointment=JSON.parse(t))}forwardSteps(){let t=!1;this.canShowStepWhen&&(this.stepIndexSubject.next(2),t=!0),this.canShowStepDetails&&(this.stepIndexSubject.next(3),t=!0),this.canShowStepDone&&(this.stepIndexSubject.next(4),t=!0),t&&this.snackbarService.showSnackbar("Continuing appointment ...")}}return t.\u0275fac=function(e){return new(e||t)(p.Qb(d.a))},t.\u0275prov=p.Db({token:t,factory:t.\u0275fac}),t})()},Eixg:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var o=function(t){return t[t.WHERE=0]="WHERE",t[t.WHEN=1]="WHEN",t[t.DETAILS=2]="DETAILS",t[t.DONE=3]="DONE",t}({})},P7zA:function(t,e,n){"use strict";n.r(e),n.d(e,"StepsModule",(function(){return m}));var o=n("ofXK"),i=n("tyNb"),s=n("Eixg"),a=n("fXoL"),r=n("Dr2h");let c=(()=>{class t{constructor(t,e){this.router=t,this.service=e}canLoad(t,e){const n=t.path.toUpperCase();let o=!0;return console.log(`CAN LOAD STEP '${n}'?`),n===s.a[s.a.WHEN].toString()&&(o=this.service.canShowStepWhen),n===s.a[s.a.DETAILS].toString()&&(o=this.service.canShowStepDetails),n===s.a[s.a.DONE].toString()&&(o=this.service.canShowStepDone),o||this.router.navigate([""]),o}}return t.\u0275fac=function(e){return new(e||t)(a.Qb(i.b),a.Qb(r.a))},t.\u0275prov=a.Db({token:t,factory:t.\u0275fac}),t})();var l=n("vkgz");const p=function(t,e){return{"bg-indigo-600 text-white":t,"text-indigo-600":e}},d=function(t){return{"font-semibold":t}};let u=(()=>{class t{constructor(){this.isDisabled=!0}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=a.Bb({type:t,selectors:[["app-step-button"]],inputs:{isActive:"isActive",isDisabled:"isDisabled",indicator:"indicator",title:"title"},decls:5,vars:10,consts:[[1,"flex","flex-col","items-center","justify-center"],[1,"hover:shadow-lg","cursor-pointer","w-16","h-16","mx-auto","mb-1","rounded-full","shadow-md","border-2","border-indigo-600","flex","items-center","justify-center","text-3xl",3,"disabled","ngClass"],[1,"text-sm","text-indigo-600",3,"ngClass"]],template:function(t,e){1&t&&(a.Mb(0,"div",0),a.Mb(1,"button",1),a.mc(2),a.Lb(),a.Mb(3,"span",2),a.mc(4),a.Lb(),a.Lb()),2&t&&(a.yb(1),a.ac("disabled",e.isDisabled)("ngClass",a.dc(5,p,e.isActive,!e.isActive)),a.yb(1),a.oc(" ",e.indicator," "),a.yb(1),a.ac("ngClass",a.cc(8,d,e.isActive)),a.yb(1),a.nc(e.title))},directives:[o.i],styles:[""]}),t})();function h(t,e){if(1&t){const t=a.Nb();a.Kb(0),a.Mb(1,"app-step-button",8),a.Tb("click",(function(){a.hc(t);const n=e.index;return a.Vb(2).onStepButtonClick(n)})),a.Lb(),a.Jb()}if(2&t){const t=e.$implicit,n=e.index,o=a.Vb().ngIf;a.yb(1),a.ac("isDisabled",o<n+1)("isActive",o>n)("indicator",n+1)("title",t.title)}}function b(t,e){if(1&t&&(a.Kb(0),a.kc(1,h,2,4,"ng-container",7),a.Jb()),2&t){const t=a.Vb();a.yb(1),a.ac("ngForOf",t.steps)}}const f=[{path:"",component:(()=>{class t{constructor(t,e,n){this.router=t,this.route=e,this.service=n}ngOnInit(){this.steps=this.service.appointmentSteps,this.activeStepIndex$=this.service.activeStepIndex$.pipe(Object(l.a)(t=>this.onStepButtonClick(t-1)))}onStepButtonClick(t){this.router.navigate([this.steps[t].route],{relativeTo:this.route})}}return t.\u0275fac=function(e){return new(e||t)(a.Hb(i.b),a.Hb(i.a),a.Hb(r.a))},t.\u0275cmp=a.Bb({type:t,selectors:[["app-steps"]],decls:12,vars:3,consts:[[1,"md:container","mx-auto","p-4","min-h-full","flex","flex-col"],[1,"z-10","px-8","pt-4","-mx-4","-mt-4","h-32","bg-indigo-600","border-b","border-indigo-600","mb-4"],[1,"text-gray-100","font-light","text-3xl"],[1,"font-semibold","text-6xl"],[1,"h-24","mb-4","grid","grid-cols-4","gap-4"],[4,"ngIf"],[1,"flex","flex-col","border","border-gray-100","shadow-lg","rounded-md","w-full","flex-1","bg-gray-100","p-4"],[4,"ngFor","ngForOf"],[3,"isDisabled","isActive","indicator","title","click"]],template:function(t,e){1&t&&(a.Mb(0,"div",0),a.Mb(1,"header",1),a.Mb(2,"h1",2),a.mc(3," Welcome to "),a.Ib(4,"br"),a.Mb(5,"strong",3),a.mc(6,"Hinata"),a.Lb(),a.Lb(),a.Lb(),a.Mb(7,"div",4),a.kc(8,b,2,1,"ng-container",5),a.Wb(9,"async"),a.Lb(),a.Mb(10,"section",6),a.Ib(11,"router-outlet"),a.Lb(),a.Lb()),2&t&&(a.yb(8),a.ac("ngIf",a.Xb(9,1,e.activeStepIndex$)))},directives:[o.k,i.d,o.j,u],pipes:[o.b],styles:[""]}),t})(),children:[{path:s.a[s.a.WHERE].toLowerCase(),loadChildren:()=>Promise.all([n.e(1),n.e(9)]).then(n.bind(null,"K3ww")).then(t=>t.MapsModule)},{path:s.a[s.a.WHEN].toLowerCase(),loadChildren:()=>Promise.all([n.e(1),n.e(8)]).then(n.bind(null,"sPdk")).then(t=>t.DatesModule),data:{expected:"schedule"},canLoad:[c]},{path:s.a[s.a.DETAILS].toLowerCase(),loadChildren:()=>n.e(7).then(n.bind(null,"ED1Q")).then(t=>t.CustomerModule),data:{expected:"customer"},canLoad:[c]},{path:s.a[s.a.DONE].toLowerCase(),loadChildren:()=>n.e(6).then(n.bind(null,"/FU0")).then(t=>t.CompleteModule),data:{expected:["store","schedule","customer"]},canLoad:[c]},{path:"",redirectTo:s.a[s.a.WHERE].toLowerCase()},{path:"**",redirectTo:s.a[s.a.WHERE].toLowerCase()}]},{path:"**",redirectTo:""}];let g=(()=>{class t{}return t.\u0275mod=a.Fb({type:t}),t.\u0275inj=a.Eb({factory:function(e){return new(e||t)},imports:[[i.c.forChild(f)],i.c]}),t})();const S=[c];let m=(()=>{class t{}return t.\u0275mod=a.Fb({type:t}),t.\u0275inj=a.Eb({factory:function(e){return new(e||t)},providers:[r.a,...S],imports:[[o.c,g]]}),t})()}}]);