(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{MVWE:function(t,e,o){t.exports=o.p+"0.185a19015e561485f0e8.worker.js"},"l/x8":function(t,e,o){"use strict";(function(t){o.d(e,"a",(function(){return b}));var i=o("3Pt+"),n=o("fXoL"),r=o("Dr2h"),s=o("WwsO"),c=o("TkKc"),a=o("ofXK"),l=o("m3Fj"),d=o("tyNb");function u(t,e){if(1&t){const t=n.Ob();n.Nb(0,"div",10),n.Nb(1,"input",11),n.Ub("click",(function(){n.mc(t);const o=e.$implicit;return n.Yb().onWorkingHourClick(o)})),n.Mb(),n.Nb(2,"label",12),n.rc(3),n.Zb(4,"date"),n.Jb(5,"br"),n.rc(6),n.Zb(7,"date"),n.Mb(),n.Mb()}if(2&t){const t=e.$implicit,o=e.index;n.yb(1),n.ec("id",o),n.yb(1),n.ec("for",o),n.yb(1),n.tc(" ",n.bc(4,4,t.from,"HH:mm")," "),n.yb(3),n.tc(" ",n.bc(7,7,t.to,"HH:mm")," ")}}let b=(()=>{class e{constructor(t,e){this.builder=t,this.service=e,this.appointmentSince=new Date,this.appointmentUntil=new Date,this.workingHours=[],this.workingHoursSteps=45}ngOnInit(){this.buildAppointmentDateLimits(),this.buildScheduleRanges(),this.buildForm()}onWorkingHourClick(t){this.form.patchValue({range:t})}onFormComplete(){this.form.invalid||this.service.saveStepSchedule(this.form.value)}buildScheduleRanges(){const e=this.workingHoursStartHour,o=this.workingHoursEndHour,i=this.workingHoursSteps,n=new Worker(t,void 0);n.onmessage=({data:t})=>{this.workingHours=t.ranges},n.postMessage({from:e,until:o,step:i})}get workingHoursStartHour(){const t=new Date;return t.setHours(8),t.setMinutes(0),t.setSeconds(0),t}get workingHoursEndHour(){const t=new Date;return t.setHours(18),t.setMinutes(0),t.setSeconds(0),t}buildAppointmentDateLimits(){this.appointmentSince.setDate(this.appointmentSince.getDate()+1),this.appointmentUntil.setDate(this.appointmentSince.getDate()+14)}buildForm(){this.form=this.builder.group({date:this.builder.control(this.appointmentSince.toISOString().split("T")[0],[i.i.required]),range:this.builder.control(null,[i.i.required])})}}return e.\u0275fac=function(t){return new(t||e)(n.Ib(i.b),n.Ib(r.a))},e.\u0275cmp=n.Cb({type:e,selectors:[["app-dates"]],decls:16,vars:11,consts:[[1,"flex-1","flex","flex-col"],[1,"flex-1","h-full","flex","flex-col",3,"formGroup"],[1,"h-16","-mt-3","mb-2"],["name","appointment","label","Reservation date"],["formControlName","date","type","date",3,"min","max"],[1,"overflow-y-auto","h-full","flex-1","md:grid-cols-4","grid","grid-cols-3","gap-4"],["class","flex items-center justify-center",4,"ngFor","ngForOf"],[1,"h-16","grid","grid-cols-2","gap-4"],["secondary","true","routerLink","where"],[3,"disabled","click"],[1,"flex","items-center","justify-center"],["name","schedule","type","radio",1,"hidden",3,"id","click"],[1,"hover:text-gray-100","focus:text-gray-100","hover:bg-indigo-600","hover:shadow-lg","focus:bg-indigo-600","focus:shadow-lg","w-20","h-12","rounded-full","border-2","border-indigo-600","shadow-md","text-indigo-600","font-semibold","text-sm","flex","flex-col","justify-center","items-center","cursor-pointer",3,"for"]],template:function(t,e){1&t&&(n.Nb(0,"div",0),n.Nb(1,"app-header"),n.rc(2,"Choose the date"),n.Mb(),n.Nb(3,"div",1),n.Nb(4,"div",2),n.Nb(5,"app-input",3),n.Jb(6,"input",4),n.Zb(7,"date"),n.Zb(8,"date"),n.Mb(),n.Mb(),n.Nb(9,"div",5),n.pc(10,u,8,10,"div",6),n.Mb(),n.Nb(11,"div",7),n.Nb(12,"app-button",8),n.rc(13,"Back"),n.Mb(),n.Nb(14,"app-button",9),n.Ub("click",(function(){return e.onFormComplete()})),n.rc(15,"Next"),n.Mb(),n.Mb(),n.Mb(),n.Mb()),2&t&&(n.yb(3),n.ec("formGroup",e.form),n.yb(3),n.ec("min",n.bc(7,5,e.appointmentSince,"yyyy-MM-dd"))("max",n.bc(8,8,e.appointmentUntil,"yyyy-MM-dd")),n.yb(4),n.ec("ngForOf",e.workingHours),n.yb(4),n.ec("disabled",e.form.invalid))},directives:[s.a,i.g,i.d,c.a,i.a,i.f,i.c,a.k,l.a,d.c],pipes:[a.e],styles:["[_nghost-%COMP%]{height:100%;display:flex;flex-direction:column;flex:1 1 0%}input[type=radio][_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]{--bg-opacity:1;background-color:#5a67d8;background-color:rgba(90,103,216,var(--bg-opacity));--text-opacity:1;color:#f7fafc;color:rgba(247,250,252,var(--text-opacity))}"]}),e})()}).call(this,o("MVWE"))},sPdk:function(t,e,o){"use strict";o.r(e),o.d(e,"DatesModule",(function(){return u}));var i=o("ofXK"),n=o("3Pt+"),r=o("t8vf"),s=o("tyNb"),c=o("l/x8"),a=o("fXoL");const l=[{path:"",component:c.a}];let d=(()=>{class t{}return t.\u0275mod=a.Gb({type:t}),t.\u0275inj=a.Fb({factory:function(e){return new(e||t)},imports:[[s.d.forChild(l)],s.d]}),t})(),u=(()=>{class t{}return t.\u0275mod=a.Gb({type:t}),t.\u0275inj=a.Fb({factory:function(e){return new(e||t)},imports:[[i.c,d,r.a,n.h]]}),t})()}}]);