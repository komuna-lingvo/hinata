(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"/FU0":function(t,e,n){"use strict";n.r(e),n.d(e,"CompleteModule",(function(){return h}));var s=n("ofXK"),o=n("t8vf"),c=n("tyNb"),i=function(t){return t[t.GOOGLE=0]="GOOGLE",t}({}),r=n("mrSG"),a=n("AytR"),l=n("fXoL"),d=n("Dr2h"),b=n("KP+k");let p=(()=>{class t{constructor(t,e){this.stepsService=t,this.snackbarService=e,gapi.load("client:auth2",()=>this.initializeClient())}addEvent(t){return Object(r.a)(this,void 0,void 0,(function*(){try{t===i.GOOGLE&&(yield this.addGoogleCalendarEvent()),this.stepsService.deleteAppointmentState(),this.snackbarService.showSnackbar("Event added")}catch(e){console.error(e)}}))}initializeClient(){return Object(r.a)(this,void 0,void 0,(function*(){try{yield gapi.client.init({apiKey:a.a.googleApiKey,clientId:a.a.googleClientId,discoveryDocs:["https://www.googleapis.com/discovery/v1/apis/calendar/v3/rest"],scope:"https://www.googleapis.com/auth/calendar.events"})}catch(t){console.error(t)}}))}addGoogleCalendarEvent(){return Object(r.a)(this,void 0,void 0,(function*(){try{yield gapi.auth2.getAuthInstance().signIn(),yield gapi.client.calendar.events.insert({calendarId:"primary",resource:this.buildGoogleCalendarEvent()})}catch(t){console.error(t)}}))}buildGoogleCalendarEvent(){const t=this.stepsService.appointment;return{summary:"Reserved appointment on "+t.where.name,location:t.where.address,start:{dateTime:t.when.range.from.toISOString(),timeZone:"America/Lima"},end:{dateTime:t.when.range.to.toISOString(),timeZone:"America/Lima"},reminders:{useDefault:!1,overrides:[{method:"popup",minutes:120}]}}}}return t.\u0275fac=function(e){return new(e||t)(l.Rb(d.a),l.Rb(b.a))},t.\u0275prov=l.Eb({token:t,factory:t.\u0275fac}),t})();var u=n("m3Fj");function f(t,e){if(1&t&&(l.Nb(0,"div",10),l.Nb(1,"span",11),l.rc(2,"where"),l.Mb(),l.Nb(3,"div",12),l.Nb(4,"span"),l.rc(5),l.Mb(),l.Nb(6,"span"),l.rc(7),l.Mb(),l.Mb(),l.Nb(8,"span",11),l.rc(9,"when"),l.Mb(),l.Nb(10,"div",12),l.Nb(11,"span",13),l.Xb(),l.Nb(12,"svg",14),l.Jb(13,"path",15),l.Jb(14,"path",16),l.Mb(),l.rc(15),l.Zb(16,"date"),l.Mb(),l.Wb(),l.Nb(17,"span",13),l.Xb(),l.Nb(18,"svg",14),l.Jb(19,"path",15),l.Jb(20,"path",17),l.Jb(21,"path",18),l.Mb(),l.rc(22),l.Zb(23,"date"),l.Zb(24,"date"),l.Mb(),l.Mb(),l.Wb(),l.Nb(25,"span",11),l.rc(26,"details"),l.Mb(),l.Nb(27,"div",12),l.Nb(28,"span"),l.rc(29),l.Mb(),l.Nb(30,"span",19),l.rc(31),l.Mb(),l.Nb(32,"span"),l.rc(33),l.Mb(),l.Mb(),l.Mb()),2&t){const t=l.Yb();l.yb(5),l.sc(t.appointment.where.name),l.yb(2),l.sc(t.appointment.where.address),l.yb(8),l.tc(" ",l.bc(16,8,t.appointment.when.date,"dd-MM-yyyy")," "),l.yb(7),l.uc(" ",l.bc(23,11,t.appointment.when.range.from,"HH:mm")," - ",l.bc(24,14,t.appointment.when.range.to,"HH:mm")," "),l.yb(7),l.sc(t.appointment.details.name+" "+t.appointment.details.lastName),l.yb(2),l.sc(t.appointment.details.email),l.yb(2),l.sc(t.appointment.details.phoneNumber)}}const m=[{path:"",component:(()=>{class t{constructor(t,e){this.service=t,this.stepsService=e}ngOnInit(){this.appointment=this.stepsService.appointment}addGoogleCalendarEvent(){this.service.addEvent(i.GOOGLE),this.canAddEvent=!1}}return t.\u0275fac=function(e){return new(e||t)(l.Ib(p),l.Ib(d.a))},t.\u0275cmp=l.Cb({type:t,selectors:[["app-complete"]],features:[l.xb([p])],decls:13,vars:2,consts:[[1,"flex-1","flex","flex-col","justify-between","text-indigo-600"],[1,"flex","flex-col","items-center","justify-center"],[1,"text-2xl","font-semibold"],["src","./assets/confetti.svg","alt","Confetti icon",1,"h-40","w-40"],[1,"text-xl"],["class","mt-2 grid grid-cols-2 gap-2",4,"ngIf"],[1,"flex","flex-col"],["secondary","true",3,"disabled","click"],["src","./assets/gcalendar.svg","alt","Google Calendar icon",1,"w-8","h-8"],[1,"flex-1","flex","items-center","justify-center"],[1,"mt-2","grid","grid-cols-2","gap-2"],[1,"resume","md:text-2xl","text-lg"],[1,"resume__details","md:text-lg","sm:text-base","text-sm"],[1,"flex","flex-row"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","fill","black","width","18px","height","18px",1,"mr-2"],["d","M0 0h24v24H0z","fill","none"],["d","M17 12h-5v5h5v-5zM16 1v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-1V1h-2zm3 18H5V8h14v11z"],["d","M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"],["d","M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"],[1,"truncate"]],template:function(t,e){1&t&&(l.Nb(0,"div",0),l.Nb(1,"div",1),l.Nb(2,"span",2),l.rc(3,"Thanks for your time"),l.Mb(),l.Jb(4,"img",3),l.Nb(5,"span",4),l.rc(6,"Your appointment has been set"),l.Mb(),l.pc(7,f,34,17,"div",5),l.Mb(),l.Nb(8,"div",6),l.Nb(9,"app-button",7),l.Ub("click",(function(){return e.addGoogleCalendarEvent()})),l.Jb(10,"img",8),l.Nb(11,"span",9),l.rc(12,"Add Event"),l.Mb(),l.Mb(),l.Mb(),l.Mb()),2&t&&(l.yb(7),l.ec("ngIf",e.appointment),l.yb(2),l.ec("disabled",e.canAddEvent))},directives:[s.l,u.a],pipes:[s.e],styles:["[_nghost-%COMP%]{height:100%;display:flex;flex-direction:column;flex:1 1 0%}.resume[_ngcontent-%COMP%]{text-transform:uppercase;font-weight:600;display:flex;align-items:center;justify-content:center}.resume[_ngcontent-%COMP%] + .resume__details[_ngcontent-%COMP%]{display:flex;flex-direction:column}svg[_ngcontent-%COMP%]{fill:#5a67d8}"]}),t})()}];let g=(()=>{class t{}return t.\u0275mod=l.Gb({type:t}),t.\u0275inj=l.Fb({factory:function(e){return new(e||t)},imports:[[c.d.forChild(m)],c.d]}),t})(),h=(()=>{class t{}return t.\u0275mod=l.Gb({type:t}),t.\u0275inj=l.Fb({factory:function(e){return new(e||t)},providers:[p],imports:[[s.c,g,o.a]]}),t})()},"6G4m":function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var s=n("fXoL"),o=n("ofXK");function c(t,e){if(1&t){const t=s.Ob();s.Nb(0,"div",3),s.Ub("click",(function(){return s.mc(t),s.Yb(2).toggleDialog(!1)})),s.Mb()}}function i(t,e){if(1&t&&(s.Nb(0,"div",1),s.pc(1,c,1,0,"div",2),s.cc(2),s.Mb()),2&t){const t=s.Yb();s.yb(1),s.ec("ngIf",t.hasBackdrop)}}const r=["*"];let a=(()=>{class t{constructor(){this.open=!1,this.hasBackdrop=!0,this.close=new s.n}ngOnInit(){}toggleDialog(t){this.close.emit()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=s.Cb({type:t,selectors:[["app-dialog"]],inputs:{open:"open",hasBackdrop:"hasBackdrop"},outputs:{close:"close"},ngContentSelectors:r,decls:1,vars:1,consts:[["class","px-8 flex items-center justify-center absolute top-0 right-0 bottom-0 left-0",4,"ngIf"],[1,"px-8","flex","items-center","justify-center","absolute","top-0","right-0","bottom-0","left-0"],["class","z-0 absolute top-0 right-0 bottom-0 left-0 bg-gray-800 bg-opacity-50",3,"click",4,"ngIf"],[1,"z-0","absolute","top-0","right-0","bottom-0","left-0","bg-gray-800","bg-opacity-50",3,"click"]],template:function(t,e){1&t&&(s.dc(),s.pc(0,i,3,1,"div",0)),2&t&&s.ec("ngIf",e.open)},directives:[o.l],styles:[""]}),t})()},TkKc:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var s=n("fXoL");const o=["*"];let c=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=s.Cb({type:t,selectors:[["app-input"]],inputs:{name:"name",label:"label"},ngContentSelectors:o,decls:4,vars:2,consts:[[1,"input-group","flex","flex-col"],[1,"sm:mb-1","text-sm","font-semibold","text-indigo-600"]],template:function(t,e){1&t&&(s.dc(),s.Nb(0,"div",0),s.Nb(1,"label",1),s.rc(2),s.Mb(),s.cc(3),s.Mb()),2&t&&(s.yb(1),s.zb("for",e.name),s.yb(1),s.sc(e.label))},styles:[""]}),t})()},WwsO:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var s=n("fXoL");const o=["*"];let c=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=s.Cb({type:t,selectors:[["app-header"]],ngContentSelectors:o,decls:2,vars:0,consts:[[1,"md:text-4xl","mb-4","border-b-4","border-indigo-600","text-2xl","text-indigo-600","font-semibold"]],template:function(t,e){1&t&&(s.dc(),s.Nb(0,"h2",0),s.cc(1),s.Mb())},styles:[""]}),t})()},m3Fj:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var s=n("fXoL"),o=n("ofXK");const c=function(t,e,n){return{"bg-indigo-600 text-gray-100":t,"text-indigo-600":e,"cursor-not-allowed":n}},i=["*"];let r=(()=>{class t{constructor(){this.secondary=!1,this.disabled=!1}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=s.Cb({type:t,selectors:[["app-button"]],inputs:{secondary:"secondary",disabled:"disabled"},ngContentSelectors:i,decls:2,vars:6,consts:[[1,"disabled:opacity-75","w-full","mt-2","p-2","text-center","rounded-md","font-semibold","border-2","border-indigo-600","uppercase","shadow-md","flex","flex-row","justify-center",3,"ngClass","disabled"]],template:function(t,e){1&t&&(s.dc(),s.Nb(0,"button",0),s.cc(1),s.Mb()),2&t&&s.ec("ngClass",s.ic(2,c,!e.secondary,e.secondary,e.disabled))("disabled",e.disabled)},directives:[o.j],styles:["[_nghost-%COMP%]{width:100%}[_nghost-%COMP%]:focus, [_nghost-%COMP%]:hover{box-shadow:0 10px 15px -3px rgba(0,0,0,.1),0 4px 6px -2px rgba(0,0,0,.05)}"]}),t})()},t8vf:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var s=n("ofXK"),o=(n("m3Fj"),n("tpkb"),n("6G4m"),n("TkKc"),n("WwsO"),n("fXoL"));let c=(()=>{class t{}return t.\u0275mod=o.Gb({type:t}),t.\u0275inj=o.Fb({factory:function(e){return new(e||t)},imports:[[s.c]]}),t})()},tpkb:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var s=n("fXoL");const o=["*"];let c=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=s.Cb({type:t,selectors:[["app-dialog-body"]],ngContentSelectors:o,decls:2,vars:0,consts:[[1,"rounded-md","bg-gray-100","h-full","w-full","shadow-lg","p-4"]],template:function(t,e){1&t&&(s.dc(),s.Nb(0,"div",0),s.cc(1),s.Mb())},styles:["[_nghost-%COMP%]{z-index:10;width:100%;min-height:16rem}"]}),t})()}}]);